<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - TestApp</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>

    <nav>
        <ul>
            <li><a href="{{ url_for('home') }}">Inicio</a></li>
            <li><a href="{{ url_for('index') }}">Subir PDF</a></li>
            <li><a href="{{ url_for('test') }}">Prueba</a></li>
            <li><a href="{{ url_for('profile') }}">Perfil</a></li>
            <li><a href="{{ url_for('logout') }}">Cerrar sesión</a></li>
        </ul>
    </nav>

    <div class="content">
        <h1>Test</h1>
        <form action="{{ url_for('test_resultado') }}" method="POST">
            {% for pregunta in preguntas %}
                <div class="pregunta">
                    <h3>{{ loop.index }}. {{ pregunta.pregunta }}</h3>
                    {% set idx = loop.index %}
                    {% for opcion in pregunta.opciones %}
                        <label>
                            <input type="radio" name="pregunta_{{ idx }}" value="{{ opcion }}" required>
                            {{ opcion }}
                        </label><br>
                    {% endfor %}
                    <!-- Hidden inputs para enviar también el texto de la pregunta y la respuesta correcta -->
                    <input type="hidden" name="pregunta_texto_{{ idx }}" value="{{ pregunta.pregunta }}">
                    <input type="hidden" name="respuesta_correcta_{{ idx }}" value="{{ pregunta.respuesta_correcta }}">
                </div>
            {% endfor %}
            <button type="submit">Enviar respuestas</button>
        </form>
    </div>

</body>
</html>